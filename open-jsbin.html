<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">

<polymer-element name="open-jsbin" attributes="">
	<template>
		<style>
			:host {
				display: block;
			}
		</style>
		<button on-click="{{openSample}}"></button>
	</template>
	<script>
		Polymer('open-jsbin', {
			html: '',
			css: '',
			js: '',
			openSample: function () {
			  // var sources = ['html', 'css', 'javascript'];
			  var form = document.createElement('form');
			  var source;
			  var input;
			  form.setAttribute('method', 'post');
			  form.setAttribute('action', 'http://jsbin.com');
			  form.setAttribute('target', '_blank');
			  form.style.display = 'none';
			  for (var i = 0; i < sources.length; i++) {
			    source = document.getElementById('source-' + sources[i]);
			    input = document.createElement('input');
			    form.appendChild(input);
			    input.type = 'hidden';
			    input.name = sources[i];
			    input.value = source.innerHTML.replace(/<\\/g,'<');

			  }
			  form.submit();				
			}
		});
	</script>
</polymer-element>